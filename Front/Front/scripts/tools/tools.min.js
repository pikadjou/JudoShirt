var translationArray,CoreLib,MartialShirt;(function(n){var t;(function(t){"use strict";var i=function(){function t(){}return t.LogInfo=function(i,r){r==undefined&&(r="");n.Config.DEBUG&&t.INFO>=n.Config.DEBUG_LEVEL&&console.info(i,r)},t.LogWarning=function(i,r){r==undefined&&(r="");n.Config.DEBUG&&t.WARNING>=n.Config.DEBUG_LEVEL&&console.warn("/!\\ "+i+" /!\\",r)},t.LogDebug=function(i,r){r==undefined&&(r="");n.Config.DEBUG&&t.DEBUG>=n.Config.DEBUG_LEVEL&&console.debug(i,r)},t.LogError=function(i,r){r==undefined&&(r="");n.Config.DEBUG&&t.ERROR>=n.Config.DEBUG_LEVEL&&console.error("/!\\ "+i+" /!\\",r)},t.INFO=0,t.WARNING=1,t.DEBUG=2,t.ERROR=3,t}();t.Logger=i})(t=n.Init||(n.Init={}))})(MartialShirt||(MartialShirt={})),function(n){var t;(function(n){"use strict";var t=function(){function n(){this.askAddArticle=new signals.Signal}return n.getInstance=function(){return this.instance||(this.instance=new n,window.Signals=this.instance),this.instance},n}();n.Signals=t})(t=n.Init||(n.Init={}))}(MartialShirt||(MartialShirt={}));signals.Signal.signalsByContext={};signals.Signal.prototype.add=function(n,t,i){if(typeof n!="function")throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}","add"));var r=this._registerListener(n,!1,t,i);return t.hasOwnProperty("_guid")&&(signals.Signal.signalsByContext[t._guid]||(signals.Signal.signalsByContext[t._guid]=[]),signals.Signal.signalsByContext[t._guid].push(r)),r};signals.Signal.prototype.kill=function(n){var i,t,r;if(n.hasOwnProperty("_guid")&&signals.Signal.signalsByContext[n._guid]){for(t=0,r=signals.Signal.signalsByContext[n._guid].length;t<r;t++)i=signals.Signal.signalsByContext[n._guid][t],i.detach();delete signals.Signal.signalsByContext[n._guid]}},function(n){var t;(function(n){"use strict";var t=function(){function n(){this._routes=[];this._cookieDomain="."+location.host}return n.getInstance=function(){return this._uniqueInstance==null&&(this._uniqueInstance=new n),this._uniqueInstance},n.prototype.setRoutes=function(n){n&&(this._routes=n||[])},n.prototype.getRoutes=function(){return this._routes},n.prototype.getUrl=function(n){for(var i=this.getRoutes(),t=0,r=i.length;t<r;t++)if(n===i[t].name)return this._parseUrl(i[t].url)},n.prototype.isCms=function(n,t){for(var r=this.getRoutes(),i=0,u=r.length;i<u;i++)if(n===r[i].name)return t.$$route.originalPath===r[i].url?!0:!1;return!1},n.prototype._parseUrl=function(n){for(var t="",r=n.split("/"),i=0,u=r.length;i<u;i++)if(r[i]!==""){if(r[i].indexOf(":")>-1)break;t=t+"/"+r[i]}return t===""&&(t="/"),t},n.prototype.GetDirectiveFactory=function(n){var t=function(){for(var r,i=[],t=0;t<arguments.length;t++)i[+t]=arguments[t];return r=n,new r(i)};return t.$inject=n.$inject,t},n.prototype.injectorClass=function(n){var t=angular.injector(["MartialShirt"]);return t.get(n)},n.NewGuid=function(){return(this.G()+this.G()+"-"+this.G()+"-"+this.G()+"-"+this.G()+"-"+this.G()+this.G()+this.G()).toLowerCase()},n.G=function(){return((1+Math.random())*65536|0).toString(16).substring(1)},n.prototype.setCookie=function(n,t,i,r){var u,f;r===void 0&&(r="/");u=new Date;i===0&&(i=365);f=new Date(u.setDate(u.getDate()+i));document.cookie=n+"="+t+"; expires="+f.toUTCString()+"; path="+r+"; domain="+this._cookieDomain},n.prototype.getCookie=function(n){for(var t,r=document.cookie.split(";"),u="",i=0;i<r.length;i++){for(t=r[i];t.charAt(0)==" ";)t=t.substr(1,t.length);t.indexOf(n)==0&&(u=t.substring((n+"=").length,t.length))}return u},n.prototype.removeCookie=function(n){this.setCookie(n,"",-1)},n.MartialShirtApp=angular.module("MartialShirt",["ngRoute"]),n}();n.Application=t})(t=n.Init||(n.Init={}))}(MartialShirt||(MartialShirt={}));translationArray=[];translationArray["day-of-week-0"]="Dimanche";translationArray["day-of-week-1"]="Lundi";translationArray["day-of-week-2"]="Mardi";translationArray["day-of-week-3"]="Mercredi";translationArray["day-of-week-4"]="Jeudi";translationArray["day-of-week-5"]="Vendredi";translationArray["day-of-week-6"]="Samedi";translationArray["month-0"]="Janvier";translationArray["month-1"]="Février";translationArray["month-2"]="Mars";translationArray["month-3"]="Avril";translationArray["month-4"]="Mai";translationArray["month-5"]="Juin";translationArray["month-6"]="Juillet";translationArray["month-7"]="Août";translationArray["month-8"]="Septembre";translationArray["month-9"]="Octobre";translationArray["month-10"]="Novembre";translationArray["month-11"]="Décembre";CoreLib={};CoreLib.timestampToDate=function(n,t){var i,f,u,r;if(t===void 0&&(t="DD-MM-YY"),n){for(typeof n=="string"&&(n=new Date(n)),i={},i.YY=n.getFullYear().toString().substr(2,2),i.YYYY=n.getFullYear().toString(),i.M=(n.getMonth()+1).toString(),i.MM=n.getMonth()+1<10?"0"+(n.getMonth()+1).toString():(n.getMonth()+1).toString(),i.D=n.getDate().toString(),i.DD=n.getDate()<10?"0"+n.getDate().toString():n.getDate().toString(),i.l=translationArray["day-of-week-"+n.getDay().toString()]||"",i.F=translationArray["month-"+n.getMonth().toString()]||"",i.H=n.getHours().toString(),i.HH=n.getHours()<10?"0"+n.getHours().toString():n.getHours().toString(),i.m=n.getMinutes().toString(),i.mm=n.getMinutes()<10?"0"+n.getMinutes().toString():n.getMinutes().toString(),i.s=n.getSeconds().toString(),i.ss=n.getSeconds()<10?"0"+n.getSeconds().toString():n.getSeconds().toString(),f="",u=t.split(/([A-Za-z]{1,4})/g),r=0;r<u.length;r++)f+=i.hasOwnProperty(u[r])?i[u[r]]:u[r];return f}},function(n){var t;(function(t){"use strict";var r=function(){function t(){var t=this;this._guid="";this._sce=null;this._signal=n.Init.Signals.getInstance();this._application=n.Init.Application.getInstance();this._login=n.Services.Login.getInstance();this.CoreLib=CoreLib;this.loader=!1;this.isAuthenticated=!1;this.renderHtml=function(n){return this._sce.trustAsHtml(n)};this.trustSrc=function(n){return t._sce.trustAsResourceUrl(n)};this._login.isAuthenticated()&&this.Authenticated();this._login.authenticatedSignal.add(this.Authenticated,this);this._login.unauthenticatedSignal.add(this.Unauthenticated,this);this._guid=n.Init.Application.NewGuid()}return t.prototype.init=function(n){for(var t in n)this.hasOwnProperty(t)&&n[t]!==undefined&&n[t]!==null&&(this[t]=n[t]);this.$element&&(this._view=this.$element,this._jview=$(this._view));n.vm=this;n.$on("$destroy",this.destroy.bind(this))},t.prototype.destroy=function(){signals.Signal.prototype.kill(this)},t.prototype.Authenticated=function(){this.isAuthenticated=!0},t.prototype.Unauthenticated=function(){this.isAuthenticated=!1},t.prototype.iframeresize=function(){setTimeout(function(){$("#iframe-container").height(800);$("#iframe-container").scrollTop(150)},1e3)},t}(),i;t.AbstractModule=r;i=function(){function n(){this.templateUrl="";this.restrict="E";this.replace=!1;this.scope={};this.controller=null}return n.Name="",n.$inject=[],n}();t.AbstractDirective=i})(t=n.Init||(n.Init={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(t){this.$http=t;this.urlApi=n.Config.UrlApi;this.urlExtension=".json";this.packetReceived=new signals.Signal}return t.getInstance=function(){return this.uniqueInstance==null&&console.warn("serveur is not set"),this.uniqueInstance},t.prototype.request=function(t){var u=this,i=this.urlApi,r,f;if(i=i+"/"+t.Controller,i=i+"/"+t.View,t.Type.toLocaleUpperCase()==="GET"){for(r=0,f=t.Content.length;r<f;r++)i=i+"/"+t.Content[r];i=i+this.urlExtension;n.Init.Logger.LogInfo("PACKET_SEND : url : "+i);this.$http.get(i).then(function(n){u.onPacketReceived(n.data)},function(t){n.Init.Logger.LogError(String(t))})}else t.Type.toLocaleUpperCase()==="POST"?(i=i+this.urlExtension,n.Init.Logger.LogInfo("PACKET_SEND : url : "+i+" Data: {0}",t),this.$http.post(i,t.Content).then(function(n){u.onPacketReceived(n.data)},function(t){n.Init.Logger.LogError(String(t))})):t.Type.toLocaleUpperCase()==="PUT"&&(i=i+this.urlExtension,n.Init.Logger.LogInfo("PACKET_SEND : url : "+i+" Data: {0}",t),this.$http.put(i,t.Content).then(function(n){u.onPacketReceived(n.data)},function(t){n.Init.Logger.LogError(String(t))}));return t.Id},t.prototype.onPacketReceived=function(t){t.Id==="00000000-0000-0000-0000-000000000000"&&n.Init.Logger.LogError(String(t));n.Init.Logger.LogInfo("PACKET_RECIEVED : data : ",t);this.packetReceived.dispatch(t)},t.$inject=["$http"],t}(),r;t.Server=i;n.Init.Application.MartialShirtApp.service("Server",i);r=function(){function t(t,i,r,u,f){this.Type=t;this.Id=n.Init.Application.NewGuid();this.Identifier=i;this.Controller=r;this.View=u;this.Content=f}return t}();t.Request=r})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(){var n=this;this.KEY={SelectedTypeIds:"SelectedTypeIds",SelectedDesign:"SelectedDesign",SelectedCategory:"SelectedCategory",Design:"Design",Category:"Category",CategoryArticle:"CategoryArticle",DesignFeature:"DesignFeature",DesignTop:"DesignTop",DesignPromotion:"DesignPromotion",DesignNew:"DesignNew",SportMenu:"SportMenu",TypeMenu:"TypeMenu",ExcludeTypeMenu:"TypeMenu"};this.cache_updated=new signals.Signal;this._cache={};this.invalidate=function(t){n._cache.hasOwnProperty(t)&&delete n._cache[t]}}return t.getInstance=function(){return this.instance||(this.instance=new t,window.cache=this.instance),this.instance},t.prototype.isKeyCached=function(n){return this._cache.hasOwnProperty(n)?this._cache[n].expire_on>Date.now()/1e3>>0?!0:(this.invalidate(n),!1):!1},t.prototype.cache=function(t,i,r,u){(u===void 0&&(u=!1),!this._cache.hasOwnProperty(t)||u)&&(r&&r===-1&&(r=86400),this._cache[t]={expire_on:(Date.now()/1e3>>0)+(r?r:n.Config.defaultCacheTime),data:JSON.parse(JSON.stringify(i))},this.cache_updated.dispatch(t,this._cache[t].data))},t.prototype.getCache=function(n){if(this.isKeyCached(n))return this._cache[n].data},t}();t.Cache=i})(t=n.Init||(n.Init={}))}(MartialShirt||(MartialShirt={}));
//# sourceMappingURL=tools.min.js.map
