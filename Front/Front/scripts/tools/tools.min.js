var translationArray,CoreLib,MartialShirt;(function(n){var t;(function(n){"use strict";var t=function(){function n(){this.changeBasketCount=new signals.Signal;this.changeWishCount=new signals.Signal}return n.getInstance=function(){return this.instance||(this.instance=new n,window.Signals=this.instance),this.instance},n}();n.Signals=t})(t=n.Init||(n.Init={}))})(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(){this._routes=[];this._activeInstance=!1;this._shopConfigurationList=[];this._cookieDomain="."+location.host}return t.getInstance=function(){return this._uniqueInstance==null&&(this._uniqueInstance=new t),this._uniqueInstance},t.prototype.setRoutes=function(n){n&&(this._routes=n.pages||[])},t.prototype.getRoutes=function(){return this._routes},t.prototype.getUrl=function(n){for(var i=this.getRoutes(),t=0,r=i.length;t<r;t++)if(n===i[t].name)return this._parseUrl(i[t].url)},t.prototype._parseUrl=function(n){for(var t="",r=n.split("/"),i=0,u=r.length;i<u;i++)if(r[i]!==""){if(r[i].indexOf(":")>-1)break;t=t+"/"+r[i]}return t===""&&(t="/"),t},t.prototype.GetDirectiveFactory=function(n){var t=function(){for(var r,i=[],t=0;t<arguments.length;t++)i[+t]=arguments[t];return r=n,new r(i)};return t.$inject=n.$inject,t},t.prototype.injectorClass=function(n){var t=angular.injector(["MartialShirt"]);return t.get(n)},t.NewGuid=function(){return(this.G()+this.G()+"-"+this.G()+"-"+this.G()+"-"+this.G()+"-"+this.G()+this.G()+this.G()).toLowerCase()},t.G=function(){return((1+Math.random())*65536|0).toString(16).substring(1)},t.prototype.addShopConfiguration=function(t,i,r,u){i===void 0&&(i=!1);r===void 0&&(r=!1);u===void 0&&(u=!1);t.shopName=n.Config.spreadShirt.shopName;t.locale=n.Config.spreadShirt.locale;t.prefix=n.Config.spreadShirt.prefix;t.light=i;t.changeBasketCount=r;t.changeWishCount=u;this._shopConfigurationList.push(t);this._activeInstance===!1&&this._setFirstShopInstance()},t.prototype._setFirstShopInstance=function(){var r=this,t=this._shopConfigurationList.pop(),i;if(!t){this._activeInstance=!1;return}this._activeInstance=!0;window.spread_shop_config=t;window.shopclient();i=setInterval(function(){var u=$("#sprd-main").first();if(u&&u.length>0){if(t.changeBasketCount)$(u).on("DOMSubtreeModified","#basketCountText",function(){n.Init.Signals.getInstance().changeBasketCount.dispatch()});if(t.changeWishCount)$(u).on("DOMSubtreeModified","#wishlistCountText",function(){n.Init.Signals.getInstance().changeWishCount.dispatch()});t.light===!0&&setTimeout(function(){u.find("#header-html").remove();u.find("#department-filter").remove();u.find("#sprd-content").remove();u.find("#footer-html").remove();u.find("#footer").remove()},1e4,u);clearInterval(i);r._setFirstShopInstance()}},100,t,i)},t.prototype.setCookie=function(n,t,i,r){var u,f;r===void 0&&(r="/");u=new Date;i===0&&(i=365);f=new Date(u.setDate(u.getDate()+i));document.cookie=n+"="+t+"; expires="+f.toUTCString()+"; path="+r+"; domain="+this._cookieDomain},t.prototype.getCookie=function(n){for(var t,r=document.cookie.split(";"),u="",i=0;i<r.length;i++){for(t=r[i];t.charAt(0)==" ";)t=t.substr(1,t.length);t.indexOf(n)==0&&(u=t.substring((n+"=").length,t.length))}return u},t.prototype.removeCookie=function(n){this.setCookie(n,"",-1)},t.MartialShirtApp=angular.module("MartialShirt",["ngRoute"]),t}();t.Application=i})(t=n.Init||(n.Init={}))}(MartialShirt||(MartialShirt={}));translationArray=[];translationArray["day-of-week-0"]="Dimanche";translationArray["day-of-week-1"]="Lundi";translationArray["day-of-week-2"]="Mardi";translationArray["day-of-week-3"]="Mercredi";translationArray["day-of-week-4"]="Jeudi";translationArray["day-of-week-5"]="Vendredi";translationArray["day-of-week-6"]="Samedi";translationArray["month-0"]="Janvier";translationArray["month-1"]="Février";translationArray["month-2"]="Mars";translationArray["month-3"]="Avril";translationArray["month-4"]="Mai";translationArray["month-5"]="Juin";translationArray["month-6"]="Juillet";translationArray["month-7"]="Août";translationArray["month-8"]="Septembre";translationArray["month-9"]="Octobre";translationArray["month-10"]="Novembre";translationArray["month-11"]="Décembre";CoreLib={};CoreLib.timestampToDate=function(n,t){var i,f,u,r;if(t===void 0&&(t="DD-MM-YY"),n){for(typeof n=="string"&&(n=new Date(n)),i={},i.YY=n.getFullYear().toString().substr(2,2),i.YYYY=n.getFullYear().toString(),i.M=(n.getMonth()+1).toString(),i.MM=n.getMonth()+1<10?"0"+(n.getMonth()+1).toString():(n.getMonth()+1).toString(),i.D=n.getDate().toString(),i.DD=n.getDate()<10?"0"+n.getDate().toString():n.getDate().toString(),i.l=translationArray["day-of-week-"+n.getDay().toString()]||"",i.F=translationArray["month-"+n.getMonth().toString()]||"",i.H=n.getHours().toString(),i.HH=n.getHours()<10?"0"+n.getHours().toString():n.getHours().toString(),i.m=n.getMinutes().toString(),i.mm=n.getMinutes()<10?"0"+n.getMinutes().toString():n.getMinutes().toString(),i.s=n.getSeconds().toString(),i.ss=n.getSeconds()<10?"0"+n.getSeconds().toString():n.getSeconds().toString(),f="",u=t.split(/([A-Za-z]{1,4})/g),r=0;r<u.length;r++)f+=i.hasOwnProperty(u[r])?i[u[r]]:u[r];return f}},function(n){var t;(function(t){"use strict";var i=function(){function t(){this._signal=n.Init.Signals.getInstance();this._application=n.Init.Application.getInstance();this._login=n.Services.Login.getInstance();this.CoreLib=CoreLib;this.loader=!1;this.isAuthenticated=!1;this._login.isAuthenticated()&&this.Authenticated();this._login.authenticatedSignal.add(this.Authenticated,this);this._login.unauthenticatedSignal.add(this.Unauthenticated,this)}return t.prototype.init=function(n){for(var t in n)this.hasOwnProperty(t)&&(this[t]=n[t]);n.vm=this},t.prototype.Authenticated=function(){this.isAuthenticated=!0},t.prototype.Unauthenticated=function(){this.isAuthenticated=!1},t}();t.AbstractModule=i})(t=n.Init||(n.Init={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(t){this.$http=t;this.urlApi=n.Config.UrlApi;this.urlExtension=".json";this.packetReceived=new signals.Signal}return t.getInstance=function(){return this.uniqueInstance==null&&console.warn("serveur is not set"),this.uniqueInstance},t.prototype.request=function(n){var r=this,t=this.urlApi,i,u;if(t=t+"/"+n.Controller,t=t+"/"+n.View,n.Type.toLocaleUpperCase()==="GET"){for(i=0,u=n.Content.length;i<u;i++)t=t+"/"+n.Content[i];t=t+this.urlExtension;console.log("PACKET_SEND : url : "+t);this.$http.get(t).then(function(n){r.onPacketReceived(n.data)},function(n){console.log(n)})}else n.Type.toLocaleUpperCase()==="POST"?(t=t+this.urlExtension,console.log("PACKET_SEND : url : "+t+" Data: {0}",n),this.$http.post(t,n.Content).then(function(n){r.onPacketReceived(n.data)},function(n){console.log(n)})):n.Type.toLocaleUpperCase()==="PUT"&&(t=t+this.urlExtension,console.log("PACKET_SEND : url : "+t+" Data: {0}",n),this.$http.put(t,n.Content).then(function(n){r.onPacketReceived(n.data)},function(n){console.log(n)}));return n.Id},t.prototype.onPacketReceived=function(n){n.Id==="00000000-0000-0000-0000-000000000000";console.log("PACKET_RECIEVED : data : ",n);this.packetReceived.dispatch(n)},t.$inject=["$http"],t}(),r;t.Server=i;n.Init.Application.MartialShirtApp.service("Server",i);r=function(){function t(t,i,r,u,f){this.Type=t;this.Id=n.Init.Application.NewGuid();this.Identifier=i;this.Controller=r;this.View=u;this.Content=f}return t}();t.Request=r})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={}));
//# sourceMappingURL=tools.min.js.map
