var MartialShirt;(function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="categories";this.addEvents()}return t.prototype.GetCategories=function(){return this.server.request(new n.Services.Request("GET","GetCategories",this.controller,"index",[]))},t.prototype.addEvents=function(){this.GetCategoriesReceived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"GetCategoriesResponse":t=n.Content;this.GetCategoriesReceived.dispatch(t)}}},t.$inject=["Server"],t.Name="CategoriesRequestHandler",t}();t.CategoriesRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))})(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="designs";this.addEvents()}return t.prototype.GetDesign=function(t){return t===void 0&&(t=[]),this.server.request(new n.Services.Request("GET","GetDesign",this.controller,"getDesign",t))},t.prototype.GetDesigns=function(t){return t===void 0&&(t=[]),this.server.request(new n.Services.Request("GET","GetDesigns",this.controller,"getDesigns",t))},t.prototype.GetTopDesigns=function(t){return this.server.request(new n.Services.Request("GET","GetDesigns",this.controller,"getTopDesigns",t))},t.prototype.GetNewDesigns=function(t){return this.server.request(new n.Services.Request("GET","GetDesigns",this.controller,"getNewDesigns",t))},t.prototype.GetPromoDesigns=function(t){return this.server.request(new n.Services.Request("GET","GetDesigns",this.controller,"getPromoDesigns",t))},t.prototype.GetFeaturedDesigns=function(){return this.server.request(new n.Services.Request("GET","GetDesigns",this.controller,"getFeaturedDesigns",[]))},t.prototype.addEvents=function(){this.GetDesignReceived=new signals.Signal;this.GetDesignsReceived=new signals.Signal;this.GetTopDesignsReceived=new signals.Signal;this.GetNewDesignsReceived=new signals.Signal;this.GetPromoDesignsReceived=new signals.Signal;this.GetFeaturedDesignsReceived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"GetDesignResponse":t=n.Content;this.GetDesignReceived.dispatch(t);break;case"GetDesignsResponse":t=n.Content;this.GetDesignsReceived.dispatch(t);break;case"GetTopDesignsResponse":t=n.Content;this.GetTopDesignsReceived.dispatch(t);break;case"GetNewDesignsResponse":t=n.Content;this.GetNewDesignsReceived.dispatch(t);break;case"GetPromotionDesignsResponse":t=n.Content;this.GetPromoDesignsReceived.dispatch(t);break;case"GetFeaturedDesignsResponse":t=n.Content;this.GetFeaturedDesignsReceived.dispatch(t)}}},t.$inject=["Server"],t.Name="DesignsRequestHandler",t}();t.DesignsRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="articles";this.addEvents()}return t.prototype.GetArticles=function(t){return t===void 0&&(t=[]),this.server.request(new n.Services.Request("GET","GetArticles",this.controller,"getArticles",t))},t.prototype.GetArticle=function(t){return t===void 0&&(t=[]),this.server.request(new n.Services.Request("GET","GetArticle",this.controller,"getArticle",t))},t.prototype.GetHilightArticles=function(t){return t===void 0&&(t=[]),this.server.request(new n.Services.Request("GET","GetHilightArticles",this.controller,"getHilightArticles",t))},t.prototype.addEvents=function(){this.GetArticlesReceived=new signals.Signal;this.GetArticleReceived=new signals.Signal;this.GetHilightArticlesReceived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"GetArticlesResponse":t=n.Content;this.GetArticlesReceived.dispatch(t);break;case"GetArticleResponse":t=n.Content;this.GetArticleReceived.dispatch(t);break;case"GetHilightResponse":t=n.Content;this.GetHilightArticlesReceived.dispatch(t)}}},t.$inject=["Server"],t.Name="ArticlesRequestHandler",t}();t.ArticlesRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="products";this.addEvents()}return t.prototype.GetProducts=function(){return this.server.request(new n.Services.Request("GET","GetProducts",this.controller,"getProducts",[]))},t.prototype.GetProduct=function(t){return t===void 0&&(t=[]),this.server.request(new n.Services.Request("GET","GetProducts",this.controller,"getProduct",t))},t.prototype.addEvents=function(){this.GetProductsReceived=new signals.Signal;this.GetProductReceived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"GetProductsResponse":t=n.Content;this.GetProductsReceived.dispatch(t);break;case"GetProductResponse":t=n.Content;this.GetProductReceived.dispatch(t)}}},t.$inject=["Server"],t.Name="ProductsRequestHandler",t}();t.ProductsRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="prints";this.addEvents()}return t.prototype.GetPrints=function(t){return t===void 0&&(t=[]),this.server.request(new n.Services.Request("GET","GetPrints",this.controller,"getPrints",t))},t.prototype.addEvents=function(){this.GetPrintsReceived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"GetPrintsResponse":t=n.Content;this.GetPrintsReceived.dispatch(t)}}},t.$inject=["Server"],t.Name="PrintsRequestHandler",t}();t.PrintsRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="cms";this.addEvents()}return t.prototype.GetRoutes=function(t){return t===void 0&&(t=[]),this.server.request(new n.Services.Request("GET","GetRoutes",this.controller,"getRoutes",t))},t.prototype.addEvents=function(){this.GetRoutesReceived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"GetRoutesResponse":t=n.Content;this.GetRoutesReceived.dispatch(t)}}},t.$inject=["Server"],t.Name="CmsRequestHandler",t}();t.CmsRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(n){var t;(function(n){var t=function(){function n(){}return n}();n.GetRoutesResponse=t})(t=n.CmsClass||(n.CmsClass={}))})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="shipping";this.addEvents()}return t.prototype.GetShipping=function(t){return t===void 0&&(t=[]),this.server.request(new n.Services.Request("GET","GetShipping",this.controller,"getShipping",t))},t.prototype.addEvents=function(){this.GetShippingReceived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"GetShippingResponse":t=n.Content;this.GetShippingReceived.dispatch(t)}}},t.$inject=["Server"],t.Name="ShippingRequestHandler",t}();t.ShippingRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(n){var t;(function(n){var r=function(){function n(){}return n}(),t,i;n.GetPromotionsActiveResponse=r;t=function(){function n(){}return n}();n.GetPromotionRequest=t;i=function(){function n(){}return n}();n.GetPromotionResponse=i})(t=n.PromotionsClass||(n.PromotionsClass={}))})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="promotions";this.addEvents()}return t.prototype.GetPromotionsActive=function(){return this.server.request(new n.Services.Request("GET","GetActive",this.controller,"getActive",[]))},t.prototype.GetSlide=function(){return this.server.request(new n.Services.Request("GET","GetActive",this.controller,"getSlide",[]))},t.prototype.GetPromotion=function(t){var i=[];return i.push(t.slug),this.server.request(new n.Services.Request("GET","GetPromotion",this.controller,"getPromotion",i))},t.prototype.GetBestPromotion=function(){return this.server.request(new n.Services.Request("GET","GetBestPromotion",this.controller,"getBestPromotionCode",[]))},t.prototype.addEvents=function(){this.GetPromotionsActiveReceived=new signals.Signal;this.GetPromotionReceived=new signals.Signal;this.GetBestPromotionReceived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"GetPromotionsResponse":t=n.Content;this.GetPromotionsActiveReceived.dispatch(t);break;case"GetPromotionResponse":t=n.Content;this.GetPromotionReceived.dispatch(t);break;case"GetBestPromotionResponse":t=n.Content;this.GetBestPromotionReceived.dispatch(t)}}},t.$inject=["Server"],t.Name="PromotionsRequestHandler",t}();t.PromotionsRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(n){var t;(function(n){var i=function(){function n(){}return n}(),t;n.GetGendersResponse=i;t=function(){function n(){}return n}();n.GetMasterTypesResponse=t})(t=n.TypesClass||(n.TypesClass={}))})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="types";this.addEvents()}return t.prototype.GetGenders=function(t){return t===void 0&&(t=[]),this.server.request(new n.Services.Request("GET","GetGenders",this.controller,"getGenders",t))},t.prototype.GetMasterTypes=function(t){return t===void 0&&(t=[]),this.server.request(new n.Services.Request("GET","GetMasterTypes",this.controller,"getMasterTypes",t))},t.prototype.addEvents=function(){this.GetGendersReceived=new signals.Signal;this.GetMasterTypesReceived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"GetGendersResponse":t=n.Content;this.GetGendersReceived.dispatch(t);break;case"GetMasterTypesResponse":t=n.Content;this.GetMasterTypesReceived.dispatch(t)}}},t.$inject=["Server"],t.Name="TypesRequestHandler",t}();t.TypesRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(n){var t;(function(n){var t=function(){function n(){}return n}();n.SendContactRequest=t})(t=n.HelpClass||(n.HelpClass={}))})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="help";this.addEvents()}return t.prototype.SendContact=function(t){return this.server.request(new n.Services.Request("POST","SendContactRequest",this.controller,"contact",t))},t.prototype.addEvents=function(){this.SendContactReceived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"SendContactResponse":t=n.Content;this.SendContactReceived.dispatch(t)}}},t.$inject=["Server"],t.Name="HelpRequestHandler",t}();t.HelpRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(n){var t;(function(n){var r=function(){function n(){}return n}(),t,i;n.User=r;t=function(){function n(){}return n}();n.GetLoginMetohesRecieved=t;i=function(){function n(){}return n}();n.LoginRequest=i})(t=n.UsersClass||(n.UsersClass={}))})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="users";this.addEvents()}return t.prototype.Login=function(t){return this.server.request(new n.Services.Request("POST","Login",this.controller,"Login",t))},t.prototype.Session=function(t){return this.server.request(new n.Services.Request("GET","Session",this.controller,"Session",[t]))},t.prototype.GetDetails=function(t){return this.server.request(new n.Services.Request("GET","Details",this.controller,"Details",[t]))},t.prototype.addEvents=function(){this.GetLoginMethodesReveived=new signals.Signal;this.GetLoginReveived=new signals.Signal;this.GetSessionReveived=new signals.Signal;this.GetDetailsReveived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"GetLoginMethodesResponse":t=n.Content;this.GetLoginMethodesReveived.dispatch(t);break;case"GetLoginResponse":t=n.Content;this.GetLoginReveived.dispatch(t);break;case"GetSessionResponse":t=n.Content;this.GetSessionReveived.dispatch(t);break;case"GetDetailsResponse":t=n.Content;this.GetDetailsReveived.dispatch(t)}}},t.$inject=["Server"],t.Name="UsersRequestHandler",t}();t.UsersRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(n){var t;(function(n){var f=function(){function n(){}return n}(),t,i,r,u;n.GetBasketRequest=f;t=function(){function n(){}return n}();n.UpdateQuantityRequest=t;i=function(){function n(){}return n}();n.AddArticleRequest=i;r=function(){function n(){}return n}();n.GetBasketResponse=r;u=function(){function n(){}return n}();n.UpdateQuantityResponse=u})(t=n.BasketsClass||(n.BasketsClass={}))})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function t(n){this.server=n;this.controller="baskets";this.addEvents()}return t.prototype.GetBasket=function(t){return this.server.request(new n.Services.Request("GET","GetBasket",this.controller,"getBasket",[t.id,t.token]))},t.prototype.addArticle=function(t){return this.server.request(new n.Services.Request("POST","AddArticle",this.controller,"addArticle",t))},t.prototype.UpdateQuantity=function(t){return this.server.request(new n.Services.Request("POST","UpdateQuantity",this.controller,"updateQuantity",t))},t.prototype.addEvents=function(){this.GetBasketReceived=new signals.Signal;this.server.packetReceived.add(this.onPacketReceived,this)},t.prototype.onPacketReceived=function(n){if(n&&n.Content){var t=null;switch(n.Identifier){case"GetBasketResponse":t=n.Content;this.GetBasketReceived.dispatch(t)}}},t.$inject=["Server"],t.Name="BasketsRequestHandler",t}();t.BasketsRequestHandler=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={})),function(n){var t;(function(t){"use strict";var i=function(){function i(t,i){this.server=t;this.RH=i;this.authenticatedSignal=new signals.Signal;this.unauthenticatedSignal=new signals.Signal;this.Application=n.Init.Application.getInstance();this._token="";this._authenticated=!1;this.user=null;this.errorHandler=[];this.RH.GetSessionReveived.addOnce(this._getServeurSession,this);var r=this.Application.getCookie("sprd_auth_token");r&&(this._token=r,this.CheckUserSessionId())}return i.getInstance=function(){if(this.uniqueInstance==null){var n=angular.injector(["MartialShirt"]);this.uniqueInstance=n.get(t.Login.Name)}return this.uniqueInstance},i.prototype.setToken=function(n){this.Application.setCookie("sprd_auth_token",n,0);this._token=n},i.prototype.getToken=function(){return this._token},i.prototype.hasToken=function(){return this._token===""?!1:!0},i.prototype.setAuthenticated=function(n){this._authenticated=n;n?this.authenticatedSignal.dispatch():this.unauthenticatedSignal.dispatch()},i.prototype.isAuthenticated=function(){return this._authenticated},i.prototype.addErrorHandler=function(n){this.errorHandler.push(n)},i.prototype.Login=function(n,i){this.RH.GetLoginReveived.addOnce(this._getServeurLogin,this);var r=new t.UsersClass.LoginRequest;r.username=n;r.password=i;this.RH.Login(r)},i.prototype.Logout=function(){this.Application.removeCookie("sprd_auth_token");window.location="/"},i.prototype.CheckUserSessionId=function(){this.hasToken()&&(this.RH.GetSessionReveived.addOnce(this._getServeurSession,this),this.RH.Session(this.getToken()))},i.prototype._getServeurSession=function(n){n.success===!1?this.Logout():this.setUser(n.user)},i.prototype._getServeurLogin=function(n){n.success===!1?this.sendError("Login ou mot de passe incorrect"):(this.Application.setCookie(n.cookie.name,n.cookie.value,n.cookie.time),this.setUser(n.user))},i.prototype.setUser=function(n){this.setAuthenticated(!0);this.user=n},i.prototype.getUser=function(){return this.user},i.prototype.sendError=function(n){for(var t=0,i=this.errorHandler.length;t<i;t++)this.errorHandler[t](n)},i.Name="LoginService",i.$inject=["Server",t.UsersRequestHandler.Name],i}();t.Login=i;n.Init.Application.MartialShirtApp.service(i.Name,i)})(t=n.Services||(n.Services={}))}(MartialShirt||(MartialShirt={}));
//# sourceMappingURL=Services.min.js.map
